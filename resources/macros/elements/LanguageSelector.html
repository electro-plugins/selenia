<Macro name="LanguageSelector">
  <Param name="container" type="string" default="article"/>

  <ul class="LanguageSelector nav nav-pills bar">
    <Repeat for="{{ locale.getAvailableExt }}" as="i:loc">
      <Link id="btn-{{ loc.name }}"
            wrapper="li"
            script="selenia.setLang('{{ loc.name }}')"
            label="{{ loc.label }}"
            active="{{ !i }}"/>
    </Repeat>
    <li class="disabled"><a href="javascript:nop()">$LANGUAGE</a></li>
  </ul>

  <Script name="LanguageSelector">
    selenia.on ('languageChanged', function (lang) {
      $ ('.LanguageSelector li').removeClass ('active');
      $ ('#btn-' + lang).addClass ('active');
    }).setLang ('{{ locale.locale }}');
  </Script>

</Macro>
