<Macro name="ButtonsSaveDeletePreview" defaultParam="content">
  <Param name="key" type="id"/>
  <Param name="enableIfSet" type="id"/>
  <Param name="previewLabel" type="string" default="PrÃ©-visualizar"/>
  <Param name="previewUrl" type="string"/>
  <Param name="content" type="content"/>
  <Param name="barClass" type="string"/>

  <ActionBar class="{{ @barClass }}">

    <Button class="btn-primary ActionSave" type="submit" action="submit" label="$BUTTON_SAVE"/>

    <If the="{{ @key }}" isSet>

        <Button class="btn-danger ActionDelete" action="delete" confirm
                message="Tem a certeza de que deseja apagar {{ gender }} {{ singular }}?"
                label="$BUTTON_DELETE"/>

        <If the="{{ @enableIfSet }}" isSet>
          <If the="{{ @previewUrl }}" isSet>
            <Button class="ActionPreview" url="{{ @previewUrl }}" label="{{ @previewLabel }}"/>
            <Else>
              <Button class="ActionPreview" action="preview" label="{{ @previewLabel }}"/>
            </Else>
          </If>
          <Else>
            <Button disabled="yes" class="ActionPreview" label="{{ @previewLabel }}"/>
          </Else>
        </If>

    </If>

    {{ @content }}

  </ActionBar>

</Macro>
